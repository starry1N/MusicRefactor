# MusicFree é¡¹ç›®å¯åŠ¨æŒ‡å—

## é¡¹ç›®çŠ¶æ€
âœ… npm å®‰è£…å·²å®Œæˆï¼ˆnode_modules æ–‡ä»¶å¤¹å­˜åœ¨ï¼‰  
âœ… å‰ç«¯æ¡†æ¶å·²å‡†å¤‡å°±ç»ª  
âœ… åç«¯æ¡†æ¶å·²å‡†å¤‡å°±ç»ª  

---

## å¿«é€Ÿå¯åŠ¨ï¼ˆ3æ­¥ï¼‰

### æ–¹æ³• 1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š
```cmd
run.bat
```

ç„¶åé€‰æ‹©èœå•ä¸­çš„é€‰é¡¹å¯åŠ¨å‰ç«¯æˆ–åç«¯ã€‚

---

### æ–¹æ³• 2ï¼šæ‰‹åŠ¨å¯åŠ¨

#### æ­¥éª¤1ï¼šå¯åŠ¨åç«¯æœåŠ¡ï¼ˆåœ¨ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼‰

```cmd
cd backend
mkdir build
cd build
cmake -G "Visual Studio 17 2022" -A x64 ..
cmake --build . --config Release
.\bin\Release\musicfree_server.exe 8888
```

æˆåŠŸåä¼šçœ‹åˆ°ï¼š
```
================================================
  MusicFree Desktop - Backend Server v0.1.0   
================================================

Starting API server on port 8888...
[OK] API server started successfully
Base URL: http://127.0.0.1:8888
```

#### æ­¥éª¤2ï¼šå¯åŠ¨å‰ç«¯åº”ç”¨ï¼ˆåœ¨ç¬¬äºŒä¸ªå‘½ä»¤è¡Œçª—å£ï¼‰

```cmd
cd frontend
npm install
npm run dev
```

åº”è¯¥ä¼šæ‰“å¼€ Electron åº”ç”¨çª—å£ã€‚

---

## ç³»ç»Ÿè¦æ±‚

### åç«¯éœ€è¦
- Visual Studio 2019+ æˆ– Visual Studio 2022ï¼ˆC++ å·¥å…·ï¼‰
- CMake 3.16+
- C++ 17 ç¼–è¯‘å™¨

### å‰ç«¯éœ€è¦
- Node.js 16+
- npm 8+

## æ£€æŸ¥å®‰è£…

è¿è¡Œè¿™äº›å‘½ä»¤éªŒè¯ç¯å¢ƒï¼š
```cmd
node --version    # åº”æ˜¾ç¤º v16.x.x æˆ–æ›´é«˜
npm --version     # åº”æ˜¾ç¤º 8.x.x æˆ–æ›´é«˜
cmake --version   # åº”æ˜¾ç¤º CMake 3.16+
```

---

## é¡¹ç›®ç»“æ„

```
MusicFree-Refactor/
â”œâ”€â”€ backend/              # C++ åç«¯
â”‚   â”œâ”€â”€ src/             # æºä»£ç 
â”‚   â”œâ”€â”€ include/         # å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ CMakeLists.txt   # CMake é…ç½®
â”‚   â””â”€â”€ build/           # æ„å»ºè¾“å‡ºï¼ˆè¿è¡Œ cmake åç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ frontend/            # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/  # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/       # é¡µé¢
â”‚   â”‚   â””â”€â”€ services/    # API æœåŠ¡
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ node_modules/    # ä¾èµ–åŒ…ï¼ˆå·²å®‰è£…ï¼‰
â”‚
â””â”€â”€ docs/               # æ–‡æ¡£
    â”œâ”€â”€ ARCHITECTURE.md # æ¶æ„æ–‡æ¡£
    â””â”€â”€ BUILD.md        # æ„å»ºæŒ‡å—
```

---

## API ç«¯ç‚¹

åç«¯è¿è¡Œåå¯ä»¥è®¿é—®è¿™äº›æ¥å£ï¼š

```
# æ’­æ”¾å™¨æ§åˆ¶
POST   /api/player/load       - åŠ è½½éŸ³é¢‘æ–‡ä»¶
POST   /api/player/play       - æ’­æ”¾
POST   /api/player/pause      - æš‚åœ
POST   /api/player/stop       - åœæ­¢
GET    /api/player/status    - è·å–æ’­æ”¾çŠ¶æ€

# æ’­æ”¾åˆ—è¡¨
GET    /api/playlist         - è·å–æ’­æ”¾åˆ—è¡¨
POST   /api/playlist/add     - æ·»åŠ è½¨é“
DELETE /api/playlist/{index} - åˆ é™¤è½¨é“

# æœç´¢
GET    /api/search?q=keyword - æœç´¢éŸ³ä¹

# ç³»ç»Ÿ
GET    /api/health          - å¥åº·æ£€æŸ¥
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šCMake æœªæ‰¾åˆ°
**è§£å†³æ–¹æ¡ˆï¼š**
- ä¸‹è½½å®‰è£… CMake: https://cmake.org/download/
- æˆ–ä½¿ç”¨ vcpkg: `vcpkg install cmake`
- ç¡®ä¿ CMake åœ¨ PATH ç¯å¢ƒå˜é‡ä¸­

### é—®é¢˜2ï¼šVisual Studio æœªæ‰¾åˆ°
**è§£å†³æ–¹æ¡ˆï¼š**
- å®‰è£… Visual Studio 2019+ çš„ C++ å·¥å…·
- é€‰æ‹©"Desktop development with C++"å·¥ä½œè´Ÿè½½
- æˆ–ä½¿ç”¨ MinGWï¼š`cmake -G "MinGW Makefiles" ..`

### é—®é¢˜3ï¼šnpm install å¤±è´¥
**è§£å†³æ–¹æ¡ˆï¼š**
- æ¸…é™¤ç¼“å­˜ï¼š`npm cache clean --force`
- åˆ é™¤ node_modules å’Œ package-lock.json
- é‡æ–°å®‰è£…ï¼š`npm install`

### é—®é¢˜4ï¼šç¼–è¯‘å‡ºé”™
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–‡è·¯å¾„ï¼ˆæ”¹ç”¨è‹±æ–‡è·¯å¾„ï¼‰
- ç¡®ä¿ Visual Studio C++ å·¥å…·å·²å®‰è£…
- å°è¯•åˆ é™¤ build æ–‡ä»¶å¤¹é‡æ–°é…ç½®

---

## å¼€å‘å·¥ä½œæµ

### åç«¯å¼€å‘
1. ç¼–è¾‘ C++ æºæ–‡ä»¶ï¼ˆbackend/src/ï¼‰
2. é‡æ–°ç¼–è¯‘ï¼š`cmake --build . --config Release`
3. è¿è¡Œï¼š`.\bin\Release\musicfree_server.exe 8888`

### å‰ç«¯å¼€å‘
1. ç¼–è¾‘ React æ–‡ä»¶ï¼ˆfrontend/src/ï¼‰
2. ä¿å­˜æ–‡ä»¶è‡ªåŠ¨åˆ·æ–°ï¼ˆçƒ­é‡è½½ï¼‰
3. æ‰“å¼€æµè§ˆå™¨å¼€å‘å·¥å…·è°ƒè¯•ï¼ˆF12ï¼‰

---

## ä¸‹ä¸€æ­¥

### ç«‹å³å¯åšï¼š
- [ ] æˆåŠŸå¯åŠ¨å‰ç«¯
- [ ] æˆåŠŸå¯åŠ¨åç«¯
- [ ] æµ‹è¯• API è¿æ¥

### æœ¬å‘¨ä¼˜å…ˆï¼š
- [ ] å®Œæˆ REST API å®ç°ï¼ˆä½¿ç”¨ cpp-httplibï¼‰
- [ ] é›†æˆ FFmpeg å®ç°çœŸå®éŸ³é¢‘æ’­æ”¾
- [ ] å®Œæˆå‰ç«¯é¡µé¢å¸ƒå±€

### æœ¬æœˆç›®æ ‡ï¼š
- [ ] å¯ä»¥æ’­æ”¾æœ¬åœ°éŸ³ä¹æ–‡ä»¶
- [ ] æœç´¢éŸ³ä¹åŠŸèƒ½
- [ ] æ’­æ”¾åˆ—è¡¨ç®¡ç†

---

## è”ç³»æ–¹å¼

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. docs/ARCHITECTURE.md - æ¶æ„è®¾è®¡
2. docs/BUILD.md - è¯¦ç»†æ„å»ºæŒ‡å—
3. PROGRESS.md - é¡¹ç›®è¿›åº¦

---

**é¡¹ç›®å·²å‡†å¤‡å°±ç»ªï¼ç°åœ¨å¯ä»¥å¯åŠ¨äº†ï¼** ğŸš€
